(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var a=e.i(43476),t=e.i(71645);function l(e){if(!e.driveawayCost&&!e.residualValue)throw Error("Either driveawayCost or residualValue must be provided");let a="number"==typeof e.financedAmountManual&&!isNaN(e.financedAmountManual),t="number"==typeof e.residualValueManual&&!isNaN(e.residualValueManual);if(!e.driveawayCost&&!e.residualValue&&!a&&!t)throw Error("Either driveawayCost, residualValue, or manual override must be provided");let l=e.fbtBaseValue/11,n=e.documentationFee||0,i=e.residualIncludesGst||!1,s=Math.round(.6563/7*(8-e.leaseTermYears)*1e4)/1e4,r=0,d=0;if(void 0!==e.driveawayCost){let a=Math.min(e.fbtBaseValue/11,6334);d=s*((r=e.driveawayCost-a+n)-n)}else r=(d=i?e.residualValue/1.1:e.residualValue)/s+n;a?d=s*((r=e.financedAmountManual)-n):t&&(r=(d=i?e.residualValueManual/1.1:e.residualValueManual)/s+n);let o=1.1*d;return{gst:l,financedAmount:r,residualPercent:s,residualExclGst:d,residualInclGst:o}}function n({paymentAmount:e,paymentsPerYear:a,leaseTermYears:t,financedAmount:l,residualExclGst:n,monthsDeferred:i,...s}){if(!e||!a||!t||!l||!n)return null;let r="number"==typeof i?i:2,d=12*t-r,o=-l,u=a*t*e/(12*t-r),p=1e-5,x=.5,c=0,m=0;for(;m<100;){let e=function(e,a,t,l,n){if(0===e)return-(t+l)/a;let i=Math.pow(1+e,a),s=-(e/(i-1)*(t*i+l));return s/(1+e)}((c=(p+x)/2)/12,d,o*Math.pow(1+c/12,r),n,0);if(1e-4>Math.abs(e-u))return c;e>u?x=c:p=c,m++}return null}let i=[{label:"Weekly",value:52},{label:"Fortnightly",value:26},{label:"Monthly",value:12},{label:"Yearly",value:1}],s=[{label:"Driveaway Price",value:"driveaway"},{label:"Residual Value (excl GST)",value:"residualExcl"},{label:"Residual Value (incl GST)",value:"residualIncl"}];function r(){let[e,r]=(0,t.useState)(!1),d={driveawayCost:5e4,fbtBaseValue:47527,documentationFee:0,leaseTermYears:2,residualIncludesGst:!1,paymentAmount:0,paymentsPerYear:12,monthsDeferred:2},[o,u]=(0,t.useState)(()=>{{let e=localStorage.getItem("novatedLeaseInputs");if(e)try{return{...d,...JSON.parse(e)}}catch{}}return d}),[p,x]=(0,t.useState)(()=>{{let e=localStorage.getItem("novatedLeaseSelectedFrequency");if(e)return Number(e)}return 12}),[c,m]=(0,t.useState)(()=>{{let e=localStorage.getItem("novatedLeaseCalcBasis");if("driveaway"===e||"residualExcl"===e||"residualIncl"===e)return e}return"driveaway"}),[y,h]=(0,t.useState)(l(o)),[f,g]=(0,t.useState)(!1),v=null;o.paymentAmount&&o.paymentsPerYear&&(v=n({...o,financedAmount:y.financedAmount-(o.documentationFee||0),residualExclGst:y.residualExclGst}));let b=null;o.paymentAmount&&o.paymentsPerYear&&(b=n({...o,financedAmount:y.financedAmount,residualExclGst:y.residualExclGst}));let j=(e,a)=>{let t={...o,[e]:a};u(t),localStorage.setItem("novatedLeaseInputs",JSON.stringify(t));let n={...t};"financedAmountManual"!==e||"number"!=typeof a||isNaN(a)||(n.financedAmountManual=a),"residualValueManual"!==e||"number"!=typeof a||isNaN(a)||(n.residualValueManual=a),h(l(n))},C=e=>{let a={...o};if("driveaway"===c)a.driveawayCost=e;else{a.documentationFee;let t=a.leaseTermYears,l=a.fbtBaseValue,n=Math.round(.6563/7*(8-t)*1e4)/1e4,i=e;"residualIncl"===c&&(i=e/1.1),a.driveawayCost=Math.round(i/n+l/11),a.residualValue="residualIncl"===c?i:e,a.residualIncludesGst="residualIncl"===c}u(a),localStorage.setItem("novatedLeaseInputs",JSON.stringify(a)),h(l(a))},S=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,t.useEffect)(()=>{localStorage.setItem("novatedLeaseCalcBasis",c)},[c]),(0,a.jsxs)("main",{style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[(0,a.jsx)("h1",{children:"Novated Lease Calculator"}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",marginTop:"32px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Vehicle Details"}),(0,a.jsxs)("form",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["FBT Base Value (excl on-roads) (AUD) *",(0,a.jsx)("input",{type:"number",value:o.fbtBaseValue,onChange:e=>j("fbtBaseValue",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Lease Term (Years) *",(0,a.jsx)("input",{type:"number",value:o.leaseTermYears,onChange:e=>j("leaseTermYears",Number(e.target.value)),min:"1",max:"7",step:"1",style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[(0,a.jsxs)("label",{style:{flex:1},children:[(0,a.jsx)("span",{children:"Calculate using"}),(0,a.jsx)("select",{value:c,onChange:e=>m(e.target.value),style:{width:"100%",padding:"8px",marginTop:"4px"},children:s.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"driveaway"===c&&(0,a.jsxs)("label",{style:{flex:1},children:["Driveaway Cost (AUD) *",(0,a.jsx)("input",{type:"number",value:o.driveawayCost||"",onChange:e=>C(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]}),"residualExcl"===c&&(0,a.jsxs)("label",{style:{flex:1},children:["Residual Value (excl GST) *",(0,a.jsx)("input",{type:"number",value:o.residualValue||"",onChange:e=>C(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]}),"residualIncl"===c&&(0,a.jsxs)("label",{style:{flex:1},children:["Residual Value (incl GST) *",(0,a.jsx)("input",{type:"number",value:o.residualValue?(1.1*o.residualValue).toFixed(2):"",onChange:e=>C(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Documentation Fee (AUD)",(0,a.jsx)("input",{type:"number",value:o.documentationFee||0,onChange:e=>j("documentationFee",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsxs)("label",{children:["Payment Amount (AUD)",(0,a.jsx)("input",{type:"number",value:o.paymentAmount||"",onChange:e=>j("paymentAmount",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsxs)("label",{children:["Frequency",(0,a.jsx)("select",{value:p,onChange:e=>{let a=Number(e.target.value);x(a),u(e=>{let t={...e,paymentsPerYear:a};return localStorage.setItem("novatedLeaseInputs",JSON.stringify(t)),localStorage.setItem("novatedLeaseSelectedFrequency",String(a)),t})},style:{width:"100%",padding:"8px",marginTop:"4px"},children:i.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})})]}),(0,a.jsx)("div",{style:{marginTop:"8px"},children:(0,a.jsxs)("button",{type:"button",onClick:()=>g(e=>!e),style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",padding:0,fontSize:"14px",textDecoration:"underline"},children:[f?"Hide":"Show"," Advanced Options"]})}),f&&(0,a.jsx)("div",{style:{maxWidth:"120px",marginTop:"8px"},children:(0,a.jsxs)("label",{children:["Months Deferred",(0,a.jsx)("input",{type:"number",value:o.monthsDeferred||0,min:"0",max:"12",step:"1",onChange:e=>j("monthsDeferred",Number(e.target.value)),style:{width:"100%",padding:"6px",marginTop:"4px",fontSize:"14px"}})]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Lease Calculation"}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:"#e8f5e9",borderRadius:"4px",border:"2px solid #2e7d32",marginBottom:"8px"},children:[(0,a.jsx)("span",{style:{fontWeight:"bold",fontSize:"16px"},children:"Financed Amount"}),(0,a.jsx)("span",{style:{fontWeight:"bold",fontSize:"16px",color:"#2e7d32"},children:S(y.financedAmount)})]}),(0,a.jsxs)("details",{style:{marginBottom:"16px"},children:[(0,a.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"16px",padding:"8px 0"},children:"Show calculation details"}),(0,a.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #eee",marginTop:"8px"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",paddingBottom:"8px",borderBottom:"1px solid #ddd"},children:[(0,a.jsx)("span",{children:"Driveaway Cost"}),(0,a.jsx)("span",{style:{fontWeight:"500"},children:S(o.driveawayCost||0)})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,a.jsx)("span",{children:"Less: GST"}),(0,a.jsxs)("span",{style:{fontWeight:"500"},children:["-",S(y.gst)]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,a.jsx)("span",{children:"Add: Documentation Fee"}),(0,a.jsxs)("span",{style:{fontWeight:"500"},children:["+",S(o.documentationFee||0)]})]})]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:"#e3f2fd",borderRadius:"4px",border:"2px solid #1976d2",marginBottom:"8px"},children:[(0,a.jsx)("span",{style:{fontWeight:"bold",fontSize:"16px"},children:"Residual Value (incl GST)"}),(0,a.jsx)("span",{style:{fontWeight:"bold",fontSize:"16px",color:"#1976d2"},children:S(y.residualInclGst)})]}),(0,a.jsxs)("details",{style:{marginBottom:"16px"},children:[(0,a.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"16px",padding:"8px 0"},children:"Show calculation details"}),(0,a.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f5f5f5",borderRadius:"8px",border:"1px solid #ddd",marginTop:"8px"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #ddd"},children:[(0,a.jsx)("span",{children:"Residual %"}),(0,a.jsxs)("span",{style:{fontWeight:"500"},children:[(100*y.residualPercent).toFixed(2),"%"]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[(0,a.jsx)("span",{children:"Residual Value (excl GST)"}),(0,a.jsx)("span",{style:{fontWeight:"500"},children:S(y.residualExclGst)})]}),(0,a.jsx)("div",{style:{fontSize:"11px",color:"#999",marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid #ddd"},children:"Calculated from financed amount less fees"}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,a.jsx)("span",{children:"Add: GST (10%)"}),(0,a.jsxs)("span",{style:{fontWeight:"500"},children:["+",S(y.residualInclGst-y.residualExclGst)]})]})]})]}),o.paymentAmount&&o.paymentsPerYear&&(0,a.jsxs)("div",{style:{marginTop:"24px",padding:"16px",backgroundColor:"#fffde7",borderRadius:"8px",border:"1px solid #ffe082"},children:[(0,a.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px",color:"#ff8f00"},children:"Effective Interest Rate"}),(0,a.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ff8f00",marginTop:"8px"},children:null!==v?(100*v).toFixed(2)+"%":"N/A"}),(0,a.jsx)("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:"Calculated to match the entered payment amount and frequency"}),null!==b&&(0,a.jsxs)("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px"},children:[(0,a.jsx)("b",{children:"Base Rate:"})," ",(100*b).toFixed(2),"% (fees included in finance amount)"]})]})]})]})]})]})}e.s(["default",()=>r],52683)}]);