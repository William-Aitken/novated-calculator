(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),n=e.i(71645);function a(e){if("number"!=typeof e.driveawayCost||isNaN(e.driveawayCost))throw Error("driveawayCost must be provided");let t=e.fbtBaseValue/11,n=e.documentationFee||0,a=Math.round(.6563/7*(8-e.leaseTermYears)*1e4)/1e4,l=Math.min(e.fbtBaseValue/11,6334),i=e.driveawayCost-l+n,r=a*(i-n);return{gst:t,financedAmount:i,residualPercent:a,residualExclGst:r,residualInclGst:1.1*r}}function l({paymentAmount:e,paymentsPerYear:t,leaseTermYears:n,financedAmount:a,residualExclGst:l,monthsDeferred:i,...r}){if(!e||!t||!n||!a||!l)return null;let s="number"==typeof i?i:2,o=12*n-s,d=-a,u=t*n*e/(12*n-s),p=1e-5,x=.5,c=0,m=0;for(;m<100;){let e=function(e,t,n,a,l){if(0===e)return-(n+a)/t;let i=Math.pow(1+e,t),r=-(e/(i-1)*(n*i+a));return r/(1+e)}((c=(p+x)/2)/12,o,d*Math.pow(1+c/12,s),l,0);if(1e-4>Math.abs(e-u))return c;e>u?x=c:p=c,m++}return null}let i=[{label:"Weekly",value:52},{label:"Fortnightly",value:26},{label:"Monthly",value:12},{label:"Yearly",value:1}],r=[{label:"Driveaway Price",value:"driveaway"},{label:"Residual Value (excl GST)",value:"residualExcl"},{label:"Residual Value (incl GST)",value:"residualIncl"}];function s(){let[e,s]=(0,n.useState)(!1),o={driveawayCost:5e4,fbtBaseValue:47527,documentationFee:0,leaseTermYears:2,paymentAmount:0,paymentsPerYear:12,monthsDeferred:2},[d,u]=(0,n.useState)(()=>{{let e=localStorage.getItem("novatedLeaseInputs");if(e)try{return{...o,...JSON.parse(e)}}catch{}}return o}),[p,x]=(0,n.useState)(""),[c,m]=(0,n.useState)(""),[f,y]=(0,n.useState)(()=>{{let e=localStorage.getItem("novatedLeaseSelectedFrequency");if(e)return Number(e)}return 12}),[h,g]=(0,n.useState)(()=>{{let e=localStorage.getItem("novatedLeaseCalcBasis");if("driveaway"===e||"residualExcl"===e||"residualIncl"===e)return e}return"driveaway"}),b=e=>{let t=d.leaseTermYears,n=d.fbtBaseValue,a=d.documentationFee||0,l=Math.min(n/11,6334),i=(d.driveawayCost||0)-l+a,r=Math.round(.6563/7*(8-t)*1e4)/1e4;return"driveaway"===e?void 0!==d.driveawayCost&&null!==d.driveawayCost?String(d.driveawayCost):"":"residualExcl"===e?(r*(i-a)).toFixed(2):"residualIncl"===e?(r*(i-a)*1.1).toFixed(2):""},[v,j]=(0,n.useState)(a(d)),[S,C]=(0,n.useState)(!1),w=null;d.paymentAmount&&d.paymentsPerYear&&(w=l({...d,financedAmount:v.financedAmount-(d.documentationFee||0),residualExclGst:v.residualExclGst}));let T=null;d.paymentAmount&&d.paymentsPerYear&&(T=l({...d,financedAmount:v.financedAmount,residualExclGst:v.residualExclGst}));let B=(e,t)=>{let n={...d,[e]:t};u(n),localStorage.setItem("novatedLeaseInputs",JSON.stringify(n));let l={...n};"financedAmountManual"!==e||"number"!=typeof t||isNaN(t)||(l.financedAmountManual=t),j(a(l))},W=e=>{let t={...d},n=t.leaseTermYears,l=t.fbtBaseValue/11,i=Math.round(.6563/7*(8-n)*1e4)/1e4;"driveaway"===h?t.driveawayCost=e:"residualExcl"===h?(x(e?String(e):""),t.driveawayCost=Math.round(e/i+l)):"residualIncl"===h&&(m(e?String(e):""),t.driveawayCost=Math.round(e/1.1/i+l)),u(t),localStorage.setItem("novatedLeaseInputs",JSON.stringify(t)),j(a(t))},A=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,n.useEffect)(()=>{localStorage.setItem("novatedLeaseCalcBasis",h)},[h]),(0,t.jsxs)("main",{style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[(0,t.jsx)("h1",{children:"Novated Lease Calculator"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",marginTop:"32px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Lease Details"}),(0,t.jsxs)("form",{style:{display:"flex",flexDirection:"column",gap:"0"},children:[(0,t.jsx)("div",{style:{marginBottom:"20px"},children:(0,t.jsxs)("label",{style:{fontWeight:500,color:"#222",fontSize:"15px"},children:["Lease Term (Years) *",(0,t.jsx)("input",{type:"number",value:d.leaseTermYears,onChange:e=>B("leaseTermYears",Number(e.target.value)),min:"1",max:"7",step:"1",style:{width:"100%",padding:"8px",marginTop:"4px",borderRadius:"8px"}})]})}),(0,t.jsx)("div",{style:{marginBottom:"20px"},children:(0,t.jsxs)("label",{style:{fontWeight:500,color:"#222",fontSize:"15px"},children:["FBT Base Value (excl on-roads) (AUD) *",(0,t.jsx)("input",{type:"number",value:d.fbtBaseValue,onChange:e=>B("fbtBaseValue",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px",borderRadius:"8px"}})]})}),(0,t.jsxs)("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",alignItems:"flex-end"},children:[(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,t.jsx)("label",{htmlFor:"calc-basis-select",style:{fontWeight:500,color:"#222",marginBottom:"2px",fontSize:"15px"},children:"Calculate using"}),(0,t.jsx)("select",{id:"calc-basis-select",value:h,onChange:e=>{let t=e.target.value;g(t),"residualExcl"===t?x(b("residualExcl")):"residualIncl"===t&&m(b("residualIncl")),localStorage.setItem("novatedLeaseCalcBasis",t)},style:{width:"100%",padding:"10px 12px",border:"1.5px solid #1976d2",borderRadius:"8px",background:"#fff",color:"inherit",fontWeight:500,fontSize:"15px",appearance:"auto",outline:"none",boxShadow:"0 1px 4px rgba(25, 118, 210, 0.07)",transition:"border-color 0.2s"},onFocus:e=>e.currentTarget.style.borderColor="#1565c0",onBlur:e=>e.currentTarget.style.borderColor="#1976d2",children:r.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"driveaway"===h&&(0,t.jsxs)("label",{style:{flex:1,fontWeight:500,color:"#222",fontSize:"15px"},children:["Driveaway Cost (AUD) *",(0,t.jsx)("input",{type:"number",value:d.driveawayCost||"",onChange:e=>W(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px",borderRadius:"8px"}})]}),"residualExcl"===h&&(0,t.jsxs)("label",{style:{flex:1,fontWeight:500,color:"#222",fontSize:"15px"},children:["Residual Value (excl GST) *",(0,t.jsx)("input",{type:"number",value:p,onChange:e=>W(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px",borderRadius:"8px"}})]}),"residualIncl"===h&&(0,t.jsxs)("label",{style:{flex:1,fontWeight:500,color:"#222",fontSize:"15px"},children:["Residual Value (incl GST) *",(0,t.jsx)("input",{type:"number",value:c,onChange:e=>W(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px",borderRadius:"8px"}})]})]}),(0,t.jsx)("div",{style:{marginBottom:"20px"},children:(0,t.jsxs)("label",{style:{fontWeight:500,color:"#222",fontSize:"15px"},children:["Documentation Fee (AUD)",(0,t.jsx)("input",{type:"number",value:d.documentationFee||0,onChange:e=>B("documentationFee",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px",borderRadius:"8px"}})]})}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end",marginBottom:"20px"},children:[(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsxs)("label",{style:{fontWeight:500,color:"#222",fontSize:"15px"},children:["Payment Amount (AUD)",(0,t.jsx)("input",{type:"number",value:d.paymentAmount||"",onChange:e=>B("paymentAmount",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px",borderRadius:"8px"}})]})}),(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsxs)("label",{style:{fontWeight:500,color:"#222",fontSize:"15px"},children:["Frequency",(0,t.jsx)("select",{value:f,onChange:e=>{let t=Number(e.target.value);y(t),u(e=>{let n={...e,paymentsPerYear:t};return localStorage.setItem("novatedLeaseInputs",JSON.stringify(n)),localStorage.setItem("novatedLeaseSelectedFrequency",String(t)),n})},style:{width:"100%",padding:"10px 12px",marginTop:"4px",border:"1.5px solid #1976d2",borderRadius:"8px",background:"#fff",color:"inherit",fontWeight:500,fontSize:"15px",appearance:"auto",outline:"none",boxShadow:"0 1px 4px rgba(25, 118, 210, 0.07)",transition:"border-color 0.2s"},onFocus:e=>e.currentTarget.style.borderColor="#1565c0",onBlur:e=>e.currentTarget.style.borderColor="#1976d2",children:i.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})})]}),(0,t.jsx)("div",{style:{marginTop:"8px"},children:(0,t.jsxs)("button",{type:"button",onClick:()=>C(e=>!e),style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",padding:0,fontSize:"14px",textDecoration:"underline"},children:[S?"Hide":"Show"," Advanced Options"]})}),S&&(0,t.jsx)("div",{style:{maxWidth:"120px",marginTop:"8px"},children:(0,t.jsxs)("label",{style:{fontWeight:500,color:"#222",fontSize:"15px"},children:["Months Deferred",(0,t.jsx)("input",{type:"number",value:d.monthsDeferred||0,min:"0",max:"12",step:"1",onChange:e=>B("monthsDeferred",Number(e.target.value)),style:{width:"100%",padding:"6px",marginTop:"4px",fontSize:"14px",borderRadius:"8px"}})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Lease Calculation"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,t.jsxs)("details",{style:{marginBottom:"4px"},children:[(0,t.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"15px",padding:"6px 0"},children:"Show Financed Amount Breakdown"}),(0,t.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #eee",marginTop:"6px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",paddingBottom:"6px",borderBottom:"1px solid #ddd"},children:[(0,t.jsx)("span",{children:"Driveaway Cost"}),(0,t.jsx)("span",{style:{fontWeight:"500"},children:A(d.driveawayCost||0)})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{children:"Less: GST"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:["-",A(v.gst)]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{children:"Add: Documentation Fee"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:["+",A(d.documentationFee||0)]})]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",backgroundColor:"#e8f5e9",borderRadius:"4px",border:"2px solid #2e7d32"},children:[(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px"},children:"Financed Amount"}),(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px",color:"#2e7d32"},children:A(v.financedAmount)})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,t.jsxs)("details",{style:{marginBottom:"4px"},children:[(0,t.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"15px",padding:"6px 0"},children:"Show Residual Breakdown"}),(0,t.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"8px",border:"1px solid #ddd",marginTop:"6px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",paddingBottom:"6px",borderBottom:"1px solid #ddd"},children:[(0,t.jsx)("span",{children:"Residual %"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:[(100*v.residualPercent).toFixed(2),"%"]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{children:"Residual Value (excl GST)"}),(0,t.jsx)("span",{style:{fontWeight:"500"},children:A(v.residualExclGst)})]}),(0,t.jsx)("div",{style:{fontSize:"11px",color:"#999",marginBottom:"8px",paddingBottom:"8px",borderBottom:"1px solid #ddd"},children:"Calculated from financed amount less fees"}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{children:"Add: GST (10%)"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:["+",A(v.residualInclGst-v.residualExclGst)]})]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",backgroundColor:"#f6fafd",borderRadius:"4px",border:"2px solid #1976d2"},children:[(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px"},children:"Residual Value (incl GST)"}),(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px",color:"#1976d2"},children:A(v.residualInclGst)})]})]}),d.paymentAmount&&d.paymentsPerYear&&(0,t.jsxs)("div",{style:{marginTop:"24px",padding:"16px",backgroundColor:"#fffde7",borderRadius:"8px",border:"1px solid #ffe082"},children:[(0,t.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px",color:"#ff8f00"},children:"Effective Interest Rate"}),(0,t.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ff8f00",marginTop:"8px"},children:null!==w?(100*w).toFixed(2)+"%":"N/A"}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:"Calculated to match the entered payment amount and frequency"}),null!==T&&(0,t.jsxs)("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px"},children:[(0,t.jsx)("b",{children:"Base Rate:"})," ",(100*T).toFixed(2),"% (fees included in finance amount)"]})]})]})]})]})]})}e.s(["default",()=>s],52683)}]);