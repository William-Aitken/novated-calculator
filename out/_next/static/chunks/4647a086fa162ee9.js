(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function n(e){if("number"!=typeof e.driveawayCost||isNaN(e.driveawayCost))throw Error("driveawayCost must be provided");let t=e.fbtBaseValue/11,a=e.documentationFee||0,n=Math.round(.6563/7*(8-e.leaseTermYears)*1e4)/1e4,l=Math.min(e.fbtBaseValue/11,6334),s=e.driveawayCost-l+a,i=n*(s-a);return{gst:t,financedAmount:s,residualPercent:n,residualExclGst:i,residualInclGst:1.1*i}}function l({paymentAmount:e,paymentsPerYear:t,leaseTermYears:a,financedAmount:n,residualExclGst:l,monthsDeferred:s,...i}){if(!e||!t||!a||!n||!l)return null;let r="number"==typeof s?s:2,d=12*a-r,o=-n,u=t*a*e/(12*a-r),p=1e-5,x=.5,c=0,m=0;for(;m<100;){let e=function(e,t,a,n,l){if(0===e)return-(a+n)/t;let s=Math.pow(1+e,t),i=-(e/(s-1)*(a*s+n));return i/(1+e)}((c=(p+x)/2)/12,d,o*Math.pow(1+c/12,r),l,0);if(1e-4>Math.abs(e-u))return c;e>u?x=c:p=c,m++}return null}let s=[{label:"Weekly",value:52},{label:"Fortnightly",value:26},{label:"Monthly",value:12},{label:"Yearly",value:1}],i=[{label:"Driveaway Price",value:"driveaway"},{label:"Residual Value (excl GST)",value:"residualExcl"},{label:"Residual Value (incl GST)",value:"residualIncl"}];function r(){let e,r,d,o,u,p,x,c,m,[h,y]=(0,a.useState)(!1),f={driveawayCost:5e4,fbtBaseValue:47527,documentationFee:0,leaseTermYears:2,paymentAmount:0,paymentsPerYear:12,monthsDeferred:2},[g,v]=(0,a.useState)(()=>{{let e=localStorage.getItem("novatedLeaseInputs");if(e)try{return{...f,...JSON.parse(e)}}catch{}}return f}),[b,j]=(0,a.useState)(()=>{{let e=localStorage.getItem("novatedLeaseSelectedFrequency");if(e)return Number(e)}return 12}),[C,S]=(0,a.useState)(()=>{{let e=localStorage.getItem("novatedLeaseCalcBasis");if("driveaway"===e||"residualExcl"===e||"residualIncl"===e)return e}return"driveaway"}),[w,T]=(0,a.useState)(n(g)),[B,A]=(0,a.useState)(!1),F=null;g.paymentAmount&&g.paymentsPerYear&&(F=l({...g,financedAmount:w.financedAmount-(g.documentationFee||0),residualExclGst:w.residualExclGst}));let I=null;g.paymentAmount&&g.paymentsPerYear&&(I=l({...g,financedAmount:w.financedAmount,residualExclGst:w.residualExclGst}));let N=(e,t)=>{let a={...g,[e]:t};v(a),localStorage.setItem("novatedLeaseInputs",JSON.stringify(a));let l={...a};"financedAmountManual"!==e||"number"!=typeof t||isNaN(t)||(l.financedAmountManual=t),T(n(l))},D=e=>{let t={...g},a=t.leaseTermYears,l=t.fbtBaseValue/11,s=Math.round(.6563/7*(8-a)*1e4)/1e4;"driveaway"===C?t.driveawayCost=e:"residualExcl"===C?t.driveawayCost=Math.round(e/s+l):"residualIncl"===C&&(t.driveawayCost=Math.round(e/1.1/s+l)),v(t),localStorage.setItem("novatedLeaseInputs",JSON.stringify(t)),T(n(t))},G=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,a.useEffect)(()=>{localStorage.setItem("novatedLeaseCalcBasis",C)},[C]),(0,t.jsxs)("main",{style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[(0,t.jsx)("h1",{children:"Novated Lease Calculator"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",marginTop:"32px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Vehicle Details"}),(0,t.jsxs)("form",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsx)("div",{children:(0,t.jsxs)("label",{children:["FBT Base Value (excl on-roads) (AUD) *",(0,t.jsx)("input",{type:"number",value:g.fbtBaseValue,onChange:e=>N("fbtBaseValue",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{children:["Lease Term (Years) *",(0,t.jsx)("input",{type:"number",value:g.leaseTermYears,onChange:e=>N("leaseTermYears",Number(e.target.value)),min:"1",max:"7",step:"1",style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[(0,t.jsxs)("label",{style:{flex:1},children:[(0,t.jsx)("span",{children:"Calculate using"}),(0,t.jsx)("select",{value:C,onChange:e=>{let t=e.target.value;S(t),localStorage.setItem("novatedLeaseCalcBasis",t)},style:{width:"100%",padding:"8px",marginTop:"4px"},children:i.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"driveaway"===C&&(0,t.jsxs)("label",{style:{flex:1},children:["Driveaway Cost (AUD) *",(0,t.jsx)("input",{type:"number",value:g.driveawayCost||"",onChange:e=>D(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]}),"residualExcl"===C&&(0,t.jsxs)("label",{style:{flex:1},children:["Residual Value (excl GST) *",(0,t.jsx)("input",{type:"number",value:(e=g.leaseTermYears,r=g.fbtBaseValue,d=g.documentationFee||0,o=Math.min(r/11,6334),(Math.round(.6563/7*(8-e)*1e4)/1e4*((g.driveawayCost||0)-o+d-d)).toFixed(2)),onChange:e=>D(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]}),"residualIncl"===C&&(0,t.jsxs)("label",{style:{flex:1},children:["Residual Value (incl GST) *",(0,t.jsx)("input",{type:"number",value:(u=g.leaseTermYears,p=g.fbtBaseValue,x=g.documentationFee||0,c=Math.min(p/11,6334),m=(g.driveawayCost||0)-c+x,(Math.round(.6563/7*(8-u)*1e4)/1e4*(m-x)*1.1).toFixed(2)),onChange:e=>D(Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{children:["Documentation Fee (AUD)",(0,t.jsx)("input",{type:"number",value:g.documentationFee||0,onChange:e=>N("documentationFee",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsxs)("label",{children:["Payment Amount (AUD)",(0,t.jsx)("input",{type:"number",value:g.paymentAmount||"",onChange:e=>N("paymentAmount",Number(e.target.value)),style:{width:"100%",padding:"8px",marginTop:"4px"}})]})}),(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsxs)("label",{children:["Frequency",(0,t.jsx)("select",{value:b,onChange:e=>{let t=Number(e.target.value);j(t),v(e=>{let a={...e,paymentsPerYear:t};return localStorage.setItem("novatedLeaseInputs",JSON.stringify(a)),localStorage.setItem("novatedLeaseSelectedFrequency",String(t)),a})},style:{width:"100%",padding:"8px",marginTop:"4px"},children:s.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})})]}),(0,t.jsx)("div",{style:{marginTop:"8px"},children:(0,t.jsxs)("button",{type:"button",onClick:()=>A(e=>!e),style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",padding:0,fontSize:"14px",textDecoration:"underline"},children:[B?"Hide":"Show"," Advanced Options"]})}),B&&(0,t.jsx)("div",{style:{maxWidth:"120px",marginTop:"8px"},children:(0,t.jsxs)("label",{children:["Months Deferred",(0,t.jsx)("input",{type:"number",value:g.monthsDeferred||0,min:"0",max:"12",step:"1",onChange:e=>N("monthsDeferred",Number(e.target.value)),style:{width:"100%",padding:"6px",marginTop:"4px",fontSize:"14px"}})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Lease Calculation"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,t.jsxs)("details",{style:{marginBottom:"4px"},children:[(0,t.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"15px",padding:"6px 0"},children:"Show calculation details"}),(0,t.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #eee",marginTop:"6px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",paddingBottom:"6px",borderBottom:"1px solid #ddd"},children:[(0,t.jsx)("span",{children:"Driveaway Cost"}),(0,t.jsx)("span",{style:{fontWeight:"500"},children:G(g.driveawayCost||0)})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{children:"Less: GST"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:["-",G(w.gst)]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{children:"Add: Documentation Fee"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:["+",G(g.documentationFee||0)]})]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",backgroundColor:"#e8f5e9",borderRadius:"4px",border:"2px solid #2e7d32"},children:[(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px"},children:"Financed Amount"}),(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px",color:"#2e7d32"},children:G(w.financedAmount)})]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"4px",border:"2px solid #1976d2",marginTop:"2px",marginBottom:"16px"},children:[(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px"},children:"Residual Value (incl GST)"}),(0,t.jsx)("span",{style:{fontWeight:"bold",fontSize:"15px",color:"#1976d2"},children:G(w.residualInclGst)})]}),(0,t.jsxs)("details",{style:{marginBottom:"16px"},children:[(0,t.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"16px",padding:"8px 0"},children:"Show calculation details"}),(0,t.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f5f5f5",borderRadius:"8px",border:"1px solid #ddd",marginTop:"8px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #ddd"},children:[(0,t.jsx)("span",{children:"Residual %"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:[(100*w.residualPercent).toFixed(2),"%"]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[(0,t.jsx)("span",{children:"Residual Value (excl GST)"}),(0,t.jsx)("span",{style:{fontWeight:"500"},children:G(w.residualExclGst)})]}),(0,t.jsx)("div",{style:{fontSize:"11px",color:"#999",marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid #ddd"},children:"Calculated from financed amount less fees"}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,t.jsx)("span",{children:"Add: GST (10%)"}),(0,t.jsxs)("span",{style:{fontWeight:"500"},children:["+",G(w.residualInclGst-w.residualExclGst)]})]})]})]}),g.paymentAmount&&g.paymentsPerYear&&(0,t.jsxs)("div",{style:{marginTop:"24px",padding:"16px",backgroundColor:"#fffde7",borderRadius:"8px",border:"1px solid #ffe082"},children:[(0,t.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px",color:"#ff8f00"},children:"Effective Interest Rate"}),(0,t.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ff8f00",marginTop:"8px"},children:null!==F?(100*F).toFixed(2)+"%":"N/A"}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:"Calculated to match the entered payment amount and frequency"}),null!==I&&(0,t.jsxs)("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px"},children:[(0,t.jsx)("b",{children:"Base Rate:"})," ",(100*I).toFixed(2),"% (fees included in finance amount)"]})]})]})]})]})]})}e.s(["default",()=>r],52683)}]);